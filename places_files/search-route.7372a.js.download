(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"86Cx":function(e,t,n){"use strict";n.r(t);var r=n("m2xi"),h=n.n(r),b=n("7H/G"),o=n("56YH"),a=n.n(o),c=n("q1tI"),d=n.n(c),u=n("TJpk"),m=n.n(u),i=n("/MKj"),l=n("b2r9"),f=n("K20R"),s=n("acyj"),y=n("PwPQ"),p=n("pq3u"),O=n("hyvg"),v=n("/V5N"),g=n("J4Es"),j=n("KwrD"),C=n("3c+Y"),E=n("5hI/"),P=n("vTCM"),S=n("LhK7"),T=n("KVl2"),_=n("X3Fk"),w=n("QuWR"),R=n("QFtp"),D=n.n(R),q=n("uNOt"),x=n("g9Q9"),N=n("nVTw"),F=n("QH2T"),k=n("z3wP"),W=n("OuwY"),U=n("mOrH"),L=n.n(U),I=D()({Placeholder:Object(R.ofType)(),Content:Object(R.ofType)()}),A=function(e){var t=I.match({Content:function(e){var t=e.routeData,n=t.query,r=t.searchSubRoute,o=Object(x.d)({searchSubRoute:r,query:n});return Object(k.a)(Object.assign({"data-test":Object(N.e)(r,F.r)},{activeClassName:L.a.searchLinkActive,to:{pathname:o}}))},Placeholder:function(){return Object(k.b)({})}})(e);return d.a.createElement(k.c,Object.assign({contentComponent:q.a,className:L.a.searchLink},t),I.match({Placeholder:function(){return d.a.createElement("div",{className:L.a.contentPlaceholder})},Content:function(e){var t=e.number,n=e.routeData.searchSubRoute;return d.a.createElement(c.Fragment,null,d.a.createElement(W.a,{number:t,className:L.a.searchNumber}),d.a.createElement("span",{className:L.a.label},h()(n)))}})(e))};A.displayName="SearchNavLink";var H=A,K=n("dZqc"),Q=n.n(K),z=D()({Placeholders:Object(R.ofType)(),Content:Object(R.ofType)()}),G=function(e){return d.a.createElement("div",{className:Q.a.filterNavContainer},d.a.createElement(H,Object.assign({},z.match({Content:function(e){var t=e.routeData,n=e.photosTotal;return I.Content({routeData:{query:t.query,searchSubRoute:O.f.photos},number:n})},Placeholders:function(){return I.Placeholder({})}})(e))),d.a.createElement(H,Object.assign({},z.match({Content:function(e){var t=e.routeData,n=e.collectionsTotal;return I.Content({routeData:{query:t.query,searchSubRoute:O.f.collections},number:n})},Placeholders:function(){return I.Placeholder({})}})(e))),d.a.createElement(H,Object.assign({},z.match({Content:function(e){var t=e.routeData,n=e.usersTotal;return I.Content({routeData:{query:t.query,searchSubRoute:O.f.users},number:n})},Placeholders:function(){return I.Placeholder({})}})(e))))};G.displayName="SearchNav";var M=G,B=n("acC3"),Y=n("Xp7I"),V=n.n(Y),X=n("s6EG"),J=n("TRoG"),Z=n("vjdK"),$=n("Sh83"),ee="search-route",te="pictures",ne=function(e){return b.a.of(e.suffix).getOrElse(te)},re=function(e){var o=e.total,a=e.query,c=e.meta;return b.a.of(c.text).getOrElseL(function(){return t=(e={total:o,query:a,meta:c}).total,n=e.query,r=e.meta,"".concat(Object($.c)(t)," free ").concat(n," ").concat(ne(r));var e,t,n,r})},oe=function(e){var s=e.routeData,t=e.maybeSearch,n=e.maybeCollectionsTotal,r=e.maybePhotosTotal,o=e.maybeUsersTotal;return b.a.map4(t,r,n,o,function(e,t,n,r){return{headerTitle:(o={routeData:s,search:e},a=o.routeData,c=o.search,u=a.query,i=c.meta,b.a.of(i.h1).getOrElseL(function(){switch(a.searchSubRoute){case O.f.photos:return"".concat(h()(u)," ").concat(ne(i));case O.f.collections:return"".concat(h()(u)," collections");case O.f.users:return h()(u)}})),text:function(e){var t=e.routeData,n=e.meta,r=e.photosTotal,o=e.collectionsTotal,a=e.usersTotal,c=t.query;switch(t.searchSubRoute){case O.f.photos:return re({total:r,query:c,meta:n});case O.f.collections:return"".concat(Object($.c)(o)," ").concat(c," collections");case O.f.users:return"".concat(Object($.c)(a)," users named ").concat(c)}}({routeData:s,meta:e.meta,collectionsTotal:n,photosTotal:t,usersTotal:r})};var o,a,c,u,i})},ae=a()(x.e,Z.a),ce=function(e){var t=e.routeData,n=e.maybeSearch,a=e.maybePhotosTotal,r=e.photosOption,c=t.query,o=t.searchSubRoute,u=n.map(function(e){return e.meta}),i=u.map(ne).getOrElse(te),s=u.chain(function(e){return b.a.of(e.title)}).getOrElseL(function(){return t=(e={query:c,suffix:i}).query,n=e.suffix,"".concat(h.a.words(t)," ").concat(h()(n)," | Download Free Images on Unsplash");var e,t,n}),l=u.chain(function(e){return b.a.of(e.description)}).getOrElseL(function(){var e,t,n,r,o=Object(X.j)({total:a.getOrElse(0)});return t=(e={photoTotal:o,query:c,suffix:i}).photoTotal,n=e.query,r=e.suffix,"Download the perfect ".concat(n," ").concat(r,". Find over ").concat(t," of the best free ").concat(n," images. Free for commercial use ✓ No attribution required ✓ Copyright-free ✓")}),f=u.chain(function(e){return b.a.of(e.canonical)}).getOrElseL(function(){return ae(c)}),p=a.forAll(function(e){return 0===e}),d=u.exists(function(e){return!1===e.index})||p||o!==J.d.photos;return Object(X.h)({disableIndex:d,photosOption:r.map(function(e){return V()(e,4)}),title:s,description:l,canonicalUrl:f})},ue=n("ZiLK"),ie=n.n(ue);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=Object(v.a)({loader:function(){return Promise.all([n.e(4),n.e(37)]).then(n.bind(null,"9fYp"))},chunkName:"search-collections-route",resolve:function(){return"9fYp"}}),me=Object(v.a)({loader:function(){return n.e(38).then(n.bind(null,"7n+f"))},chunkName:"search-users-route",resolve:function(){return"7n+f"}}),ye=Object(v.a)({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(39)]).then(n.bind(null,"4gzW"))},chunkName:"search-photos-route",resolve:function(){return"4gzW"}}),Oe=function(e){function t(){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=pe(this,de(t).apply(this,arguments))).handleQueryUpdate=function(e){var t=a.props,n=t.searchXps,r=t.dispatch;void 0!==a.previousRequestSubscription&&a.previousRequestSubscription.unsubscribe();var o=Object(B.a)(s.a)({routeData:e,searchXps:n}).subscribe(function(e){r(l.a.RouteDataUpdated({})),r(l.a.BatchActions({actions:le(e).concat([Object(l.l)()])}))});a.previousRequestSubscription=o},a}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,c["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.routeData,n=e.photoFeedOption,r=e.renderType,o=e.collectionFeedOption,a=e.userFeedOption,c=e.history;if(j.a.is.Unenhanced(r)){var u=n.get(),i=o.get(),s=a.get();this.props.dispatch(Object(l.Q)({query:t.query,photosTotal:u.total,collectionsTotal:i.total,usersTotal:s.total}))}Object(f.a)({renderType:r,historyAction:c.action})||this.handleQueryUpdate(t)}},{key:"renderSeoPageHeader",value:function(){var e=this.props,t=e.maybeSearch,n=e.routeData,r=e.photoFeedOption,o=e.collectionFeedOption,a=e.userFeedOption,c=r.map(y.b),u=o.map(y.b),i=a.map(y.b),s=oe({routeData:n,maybeSearch:t,maybeCollectionsTotal:u,maybePhotosTotal:c,maybeUsersTotal:i}),l={className:ie.a.pageHeaderContainer},f=s.map(function(e){var t=e.headerTitle,n=e.text;return w.b.Content(Object.assign({},l,{title:t,children:d.a.createElement("p",{className:ie.a.pageHeaderChildren},n)}))}).getOrElse(w.b.Placeholders(Object.assign({},l,{titleMaxWidth:350,childrenMaxWidth:200})));return d.a.createElement(w.c,Object.assign({},f))}},{key:"renderLoggedInPageHeader",value:function(){var e=this.props.routeData.query;return d.a.createElement(w.a,{title:h()(e),className:ie.a.pageHeaderContainer})}},{key:"renderSearchSubroute",value:function(){var e=this.props.routeData;switch(e.searchSubRoute){case O.f.collections:return d.a.createElement(be,{routeData:e});case O.f.users:return d.a.createElement(me,{routeData:e});case O.f.photos:return d.a.createElement(ye,{routeData:e})}}},{key:"render",value:function(){var e=this.props,t=e.maybeSearch,n=e.isLoggedIn,r=e.routeData,o=e.photosOption,a=e.photoFeedOption,c=e.collectionFeedOption,u=e.userFeedOption,i=a.map(y.b),s=c.map(y.b),l=u.map(y.b),f=ce({routeData:r,maybeSearch:t,maybePhotosTotal:i,photosOption:o}),p=b.a.map3(l,i,s,function(e,t,n){return z.Content({photosTotal:t,collectionsTotal:n,routeData:r,usersTotal:e})}).getOrElseL(function(){return z.Placeholders({})});return d.a.createElement("div",{"data-test":ee},d.a.createElement(m.a,Object.assign({},f)),d.a.createElement("div",{className:ie.a.searchHeaderContainer},n?this.renderLoggedInPageHeader():this.renderSeoPageHeader(),d.a.createElement("div",{className:ie.a.container},d.a.createElement(M,Object.assign({},p)))),this.renderSearchSubroute())}}])&&fe(n.prototype,r),o&&fe(n,o),t}();Oe.displayName="Search";var ve=Object(p.c)()(function(e,t){var n=t.routeData,r=Object(B.b)(n);return{collectionFeedOption:Object(C.b)(e,r),photoFeedOption:Object(E.b)(e,r),userFeedOption:Object(P.a)(e,r),photosOption:Object(E.a)(e,r),maybeSearch:Object(S.b)(e,n.query),searchXps:Object(_.b)(e),isLoggedIn:Object(T.h)(e)}}),ge=a()(Object(g.b)({routeType:g.a.DynamicRoute}),Object(i.connect)(ve),j.b)(Oe);n.d(t,"default",function(){return ge})},D50S:function(e,t,n){e.exports={container:"_2v9nm _2sCnE PrOBO _1CR66","sm-col-8":"_1pgnK","sm-col-10":"_3zWw2","md-col-6":"_5KnKv","md-col-8":"_2Mu9I","--sm-min":"(--sm-min)",headingL:"_2RmO0",bodyCopy:"_1iWCF",title:"_1GUcz _2RmO0 _3zWw2 _2Mu9I",children:"_3NchO _1iWCF _1pgnK _5KnKv"}},J4Es:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y});var u=n("q1tI"),i=n.n(u),r=n("/MKj"),o=n("b2r9"),s=n("pq3u"),l=n("uNqx");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,c,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};(c=b||(b={})).StaticRoute="StaticRoute",c.DynamicRoute="DynamicRoute";var y=function(e){var c=e.routeType;return function(a){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,u["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(){c===b.DynamicRoute?this.props.dynamicRouteComponentUpdated({}):this.props.staticRouteComponentUpdated({})}},{key:"render",value:function(){var e=this.props,t=(e.dynamicRouteComponentUpdated,e.staticRouteComponentUpdated,m(e,["dynamicRouteComponentUpdated","staticRouteComponentUpdated"]));return i.a.createElement(a,Object.assign({},t))}}])&&f(n.prototype,r),o&&f(n,o),t}();e.displayName="TrackRouteUpdates(".concat(Object(l.a)(a),")");var t=Object(s.b)()({dynamicRouteComponentUpdated:o.a.DynamicRouteComponentUpdated,staticRouteComponentUpdated:o.a.StaticRouteComponentUpdated});return Object(r.connect)(null,t)(e)}}},K20R:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("KwrD"),o=function(e){var t=e.renderType,n=e.historyAction;return r.a.is.Unenhanced(t)||"POP"===n}},KwrD:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return m});var c=n("6l12"),u=n("q1tI"),i=n.n(u),s=n("IsKo"),r=n("QFtp"),o=n("uNqx");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=Object(r.unionize)({Unenhanced:{},Enhanced:{}}),b=function(e){return e?h.Enhanced({}):h.Unenhanced({})},m=function(a){var e="WithRenderType(".concat(Object(o.a)(a),")"),t=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,p(t).apply(this,arguments))).createRenderTypeFromIsEnhancedMemoized=Object(c.a)(b),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,u["Component"]),n=t,(r=[{key:"render",value:function(){var r=this;return i.a.createElement(s.Consumer,null,function(e){var t=e.isEnhanced,n=r.createRenderTypeFromIsEnhancedMemoized(t);return i.a.createElement(a,Object.assign({renderType:n},r.props))})}}])&&l(n.prototype,r),o&&l(n,o),t}();return t.displayName=e,t}},PwPQ:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var r=n("7H/G"),o=n("56YH"),a=n.n(o),c=n("TRoG"),u=n("gjPd");function i(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var s=function(e){return[e.route,(t={Collection:function(e){return e.collectionId.toString()},Search:function(e){return e.query},Users:function(e){var t=e.username;return[e.userSubRoute,t].join("-")},Topic:function(e){return e.title},Wallpaper:function(e){return Object(u.b)(e).toString()},CollectionsFeed:function(e){return i(e),""},Editorial:function(){return""},KeywordLandingPage:function(e){return e.tag},Following:function(e){return i(e),""}},a()(c.c.match(t,function(){}),r.a.of,function(e){return e.get()})(e))].join("-");var t},l=function(e){return e.total}},QuWR:function(e,t,n){"use strict";var r=n("TSYQ"),o=n.n(r),a=n("7H/G"),c=n("q1tI"),u=n.n(c),i=n("QFtp"),s=n.n(i),l=n("QH2T"),f=n("xtQQ"),p=n.n(f),d=n("z3wP"),h=n("D50S"),b=n.n(h),m=s()({Placeholders:Object(i.ofType)(),Content:Object(i.ofType)()}),y=function(e){return u.a.createElement("h1",Object.assign({},e))},O=function(e){var t=e.className,n=e.innerClassName,r=m.is.Placeholders(e);return u.a.createElement("div",{className:o()(b.a.container,t)},u.a.createElement("div",{className:n},u.a.createElement(d.c,Object.assign({contentComponent:y},r?{isPlaceholder:!0}:{isPlaceholder:!1},{className:b.a.title,"data-test":l.k}),m.match({Placeholders:function(e){var t=e.titleMaxWidth;return u.a.createElement("div",{className:p.a.placeholderText,style:{maxWidth:a.a.of(t).getOrElse(200)}})},Content:function(e){return e.title}})(e)),u.a.createElement("div",{className:b.a.children},m.match({Placeholders:function(e){var t=e.childrenMaxWidth;return u.a.createElement("div",{className:p.a.placeholderText,style:{maxWidth:a.a.of(t).getOrElse(200)}})},Content:function(e){return e.children}})(e))))},v=function(e){return u.a.createElement(O,Object.assign({},m.Content(e)))},g=O;n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return g})},ZiLK:function(e,t,n){e.exports={container:"Rj-P_ _2sCnE PrOBO _1CR66","--sm-min":"(--sm-min)",bodyCopy:"_1iWCF",fontWeightNormal:"_27Bp2",searchHeaderContainer:"PlFEu",pageHeaderContainer:"BmYLG",pageHeaderChildren:"_1u88E _1iWCF _27Bp2"}},acC3:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var r=n("56YH"),a=n.n(r),u=n("67Y/"),i=n("b2r9"),s=n("Sh83"),o=n("PwPQ"),l=n("OcE/"),c=n("TRoG"),f=n("e9DK");function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=a()(c.c.Search,o.a),h=function(o){return function(e){var c,t,n=e.routeData,r=e.searchXps;return a()((t=o,function(e){return t.search.getSearchAll(Object.assign({},e,{perPage:f.b}))}),Object(u.a)((c=n,function(e){var t=Object(l.f)(e),n=t.result,r=t.entities,o=d(c),a=function(e){return{feedId:o,ids:e.results,total:e.total,lastPageFetched:1,perPage:f.b}};return[Object(i.Y)(r),i.a.AddPhotoFeed(a(n.photos)),i.a.AddCollectionFeed(a(n.collections)),i.a.AddUserFeed(a(n.users)),i.a.AddSearchResult({query:c.query,relatedKeywords:n.related_searches,meta:n.meta})].concat(p(s.l?[Object(i.Q)({query:c.query,photosTotal:n.photos.total,collectionsTotal:n.collections.total,usersTotal:n.users.total})]:[]))})))({query:n.query,searchXps:r})}}},dZqc:function(e,t,n){e.exports={"--sm-min":"(--sm-min)",filterNavContainer:"_381-n"}},mOrH:function(e,t,n){e.exports={placeholderBackground:"_2VWD4","--sm-min":"(--sm-min)","--xs-max":"(--xs-max)",colorWhite:"#fff",colorLightBlack:"#111",bodyCopy:"_1iWCF",textDecorationNone:"_1CBrG",fontWeightMedium:"xLon9",searchLink:"_39jII _1CBrG",searchLinkActive:"_3sixz",searchNumber:"_3vsmH _1iWCF xLon9",label:"_3CrUz _1iWCF",contentPlaceholder:"_3fzo- _2VWD4"}},xtQQ:function(e,t,n){e.exports={colorLightGrey:"#ddd",placeholderBackground:"_2VWD4",placeholderAnimation:"_2AX6I",placeholderText:"J3VG_ _2VWD4"}}}]);
//# sourceMappingURL=search-route.7372a.js.map